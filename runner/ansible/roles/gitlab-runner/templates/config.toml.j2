concurrent = {{ gitlab_runner_concurrent | default(1) }}
check_interval = 0
connection_max_age = "15m0s"
shutdown_timeout = 0

[session_server]
  session_timeout = 1800

[[runners]]
  name = "{{ gitlab_runner_name }}"
  url = "{{ gitlab_url }}"
  id = {{ gitlab_runner_id | default(51029626) }}
  token = "{{ gitlab_runner_token }}"
  token_obtained_at = {{ gitlab_runner_token_obtained_at | default('2025-12-19T16:45:58Z') }}
  token_expires_at = 0001-01-01T00:00:00Z
  executor = "{{ gitlab_runner_executor }}"
{% if gitlab_runner_executor == 'docker' %}
  [runners.docker]
    image = "{{ gitlab_runner_docker_image }}"
    privileged = true
    disable_entrypoint_overwrite = false
    oom_kill_disable = false
    disable_cache = false
    volumes = ["/cache", "/etc/gitlab-runner/.ssh:/root/.ssh:ro"]
    shm_size = 0
    network_mtu = 0
{% endif %}
  [runners.cache]
    Type = "local"
    Path = "{{ gitlab_runner_cache_path | default('/var/cache/gitlab-runner') }}"
    Shared = false
    MaxUploadedArchiveSize = 0
